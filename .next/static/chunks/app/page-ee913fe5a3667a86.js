(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2671:function(e,s,a){Promise.resolve().then(a.bind(a,3170))},3170:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return g}});var t=a(7437),r=a(2265),n=a(9376),i=a(4086);function l(e){let{btcPrice:s}=e,a=s?"".concat((0,i.fr)(s)," €"):"-- €";return(0,t.jsxs)("div",{className:"login-header",children:[(0,t.jsxs)("div",{className:"login-header-row",children:[(0,t.jsx)("h1",{className:"header-title",children:"\uD83E\uDE99 D.Inversions"}),(0,t.jsx)("div",{id:"headerBtcPrice",className:"header-btc-price",children:a})]}),(0,t.jsxs)("div",{className:"login-subtitle-row",children:[(0,t.jsx)("p",{className:"subtitle",children:"Track your Bitcoin investments"}),(0,t.jsx)("p",{className:"subtitle subtitle-right",children:"Bitcoin price"})]})]})}var c=a(8734);function u(){let{signIn:e}=(0,c.a)(),[s,a]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[l,u]=(0,r.useState)(""),[o,d]=(0,r.useState)(""),[m,h]=(0,r.useState)(!1);(0,r.useEffect)(()=>{sessionStorage.getItem("pw_changed")&&(d("Password updated. Please log in again."),sessionStorage.removeItem("pw_changed"))},[]);let v=async a=>{a.preventDefault(),u(""),d(""),h(!0);let{error:t}=await e(s.trim(),n);h(!1),t&&u(t.message)};return(0,t.jsxs)("div",{className:"login-form-wrapper",children:[(0,t.jsx)("h2",{className:"section-title",children:"\uD83D\uDD10 Member Login"}),(0,t.jsxs)("form",{className:"login-form",onSubmit:v,children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"email",children:"Email"}),(0,t.jsx)("input",{type:"email",id:"email",value:s,onChange:e=>a(e.target.value),required:!0,placeholder:"your@email.com",autoComplete:"email"})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"password",children:"Password"}),(0,t.jsx)("input",{type:"password",id:"password",value:n,onChange:e=>i(e.target.value),required:!0,placeholder:"Enter your password",autoComplete:"current-password"})]}),(0,t.jsx)("button",{type:"submit",disabled:m,children:m?"Logging in...":"Login"}),l?(0,t.jsx)("div",{className:"error",children:l}):null,o?(0,t.jsx)("div",{className:"info-msg",children:o}):null]})]})}function o(e){var s,a,r,n;let{summary:l,btcPrice:c}=e,u=null!==(s=null==l?void 0:l.total_btc)&&void 0!==s?s:0,o=null!==(a=null==l?void 0:l.total_invested)&&void 0!==a?a:0,d=null!==(r=null==l?void 0:l.total_guaranteed)&&void 0!==r?r:0,m=null!==(n=null==l?void 0:l.bitcoiners)&&void 0!==n?n:0,h=u*c,v=h-o,f=v>=0?"+":"",x=v>=0?"positive":"negative",g=u.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2});return(0,t.jsxs)("section",{className:"summary-section section-divider",children:[(0,t.jsx)("h2",{className:"section-title large",children:"\uD83D\uDCCA D.Inversions Community"}),(0,t.jsxs)("div",{className:"summary-grid",children:[(0,t.jsxs)("div",{className:"summary-card",children:[(0,t.jsx)("div",{className:"summary-icon",children:"₿"}),(0,t.jsx)("div",{className:"summary-value",children:l?"".concat(g," BTC"):"-- BTC"}),(0,t.jsx)("div",{className:"summary-label",children:"Bitcoin Hodled"})]}),(0,t.jsxs)("div",{className:"summary-card",children:[(0,t.jsx)("div",{className:"summary-icon",children:"\uD83D\uDC65"}),(0,t.jsx)("div",{className:"summary-value",children:l?m:"--"}),(0,t.jsx)("div",{className:"summary-label",children:"Bitcoiners"})]}),(0,t.jsxs)("div",{className:"summary-card",children:[(0,t.jsx)("div",{className:"summary-icon",children:"\uD83D\uDCB5"}),(0,t.jsx)("div",{className:"summary-value",children:l?"".concat((0,i.fr)(h)," €"):"-- €"}),(0,t.jsx)("div",{className:"summary-label",children:"Community Value"})]}),(0,t.jsxs)("div",{className:"summary-card",children:[(0,t.jsx)("div",{className:"summary-icon",children:"\uD83D\uDCB0"}),(0,t.jsx)("div",{className:"summary-value",children:l?"".concat((0,i.fr)(o)," €"):"-- €"}),(0,t.jsx)("div",{className:"summary-label",children:"Total Invested"})]}),(0,t.jsxs)("div",{className:"summary-card highlight",children:[(0,t.jsx)("div",{className:"summary-icon",children:"\uD83D\uDCC8"}),(0,t.jsx)("div",{className:"summary-value ".concat(l?x:""),children:l?"".concat(f).concat((0,i.fr)(v)," €"):"-- €"}),(0,t.jsx)("div",{className:"summary-label",children:"Portfolio Result"})]}),(0,t.jsxs)("div",{className:"summary-card",children:[(0,t.jsx)("div",{className:"summary-icon",children:"\uD83D\uDEE1️"}),(0,t.jsx)("div",{className:"summary-value",children:l?"".concat((0,i.fr)(d)," €"):"-- €"}),(0,t.jsx)("div",{className:"summary-label",children:"Guaranteed Amount"})]})]})]})}var d=a(8705);function m(e){let{btcPrice:s}=e,{growthRate:a,investment:n,futurePrice:l,computedFuturePrice:c,finalValue:u,setGrowthRate:o,setInvestment:m,handleFuturePriceChange:h}=function(e){let[s,a]=(0,r.useState)(d.JA),[t,n]=(0,r.useState)(""),[i,l]=(0,r.useState)(""),c=(0,r.useMemo)(()=>e?e*Math.pow(1+s/100,4):0,[e,s]),u=""===i?c:Number(i||0),o=""===t?0:Number(t||0),m=(0,r.useMemo)(()=>o&&e&&u?o/e*u:0,[o,e,u]);return{growthRate:s,investment:t,futurePrice:""===i?"":u,computedFuturePrice:c,finalValue:m,setGrowthRate:a,setInvestment:n,setFuturePrice:l,handleFuturePriceChange:s=>{let t=Number(s);if(!t||!e){l(""===s?"":0);return}let r=(Math.pow(t/e,.25)-1)*100;a(Number.isFinite(r)?Number(r.toFixed(1)):d.JA),l(t)}}}(s),v=s?"".concat((0,i.fr)(s)," €"):"-- €",f=u?"".concat((0,i.lb)(u)," €"):"-- €";return(0,t.jsxs)("section",{className:"calculator-section section-divider",children:[(0,t.jsx)("h2",{className:"section-title large",children:"\uD83D\uDCB0 Bitcoin Investment Calculator"}),(0,t.jsxs)("div",{className:"calculator-card",children:[(0,t.jsxs)("div",{className:"calc-grid",children:[(0,t.jsxs)("div",{className:"calc-row",children:[(0,t.jsx)("label",{children:"Current BTC Price"}),(0,t.jsx)("input",{type:"text",value:v,readOnly:!0,className:"input-readonly"})]}),(0,t.jsxs)("div",{className:"calc-row",children:[(0,t.jsx)("label",{children:"Annual Growth Rate (%)"}),(0,t.jsx)("input",{type:"number",value:a,onChange:e=>o(Number(e.target.value||0)),min:0,max:1e3})]}),(0,t.jsxs)("div",{className:"calc-row",children:[(0,t.jsx)("label",{children:"Investment Amount (€)"}),(0,t.jsx)("input",{type:"number",value:n,onChange:e=>m(""===e.target.value?"":Number(e.target.value)),min:0,placeholder:"1000"})]}),(0,t.jsxs)("div",{className:"calc-row",children:[(0,t.jsx)("label",{children:"Expected BTC Price (4 years)"}),(0,t.jsx)("input",{type:"number",value:""===l?Math.round(c||0):l,onChange:e=>h(e.target.value),className:"input-emphasis"})]})]}),(0,t.jsxs)("div",{className:"calc-result",children:[(0,t.jsx)("div",{className:"result-label",children:"Expected Final Value (4 years)"}),(0,t.jsx)("div",{className:"result-value",children:f})]})]})]})}var h=a(2834),v=a(1559),f=a(1211),x=a(71);function g(){let e=(0,n.useRouter)(),{session:s,loading:a}=(0,c.a)(),{price:i}=(0,f.k)(),{summary:d}=function(){let[e,s]=(0,r.useState)(null),[a,t]=(0,r.useState)(!0),[n,i]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{let a=await (0,x.cI)();if(!e)return;s(a),i(null)}catch(s){if(!e)return;i(s instanceof Error?s.message:"Portfolio summary unavailable.")}finally{e&&t(!1)}})(),()=>{e=!1}},[]),{summary:e,loading:a,error:n}}();return(0,r.useEffect)(()=>{!a&&s&&e.replace("/dashboard")},[a,s,e]),(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)(l,{btcPrice:i}),(0,t.jsx)(u,{}),(0,t.jsx)(o,{summary:d,btcPrice:i}),(0,t.jsx)(m,{btcPrice:i}),(0,t.jsx)(v.x,{}),(0,t.jsx)(h.$,{})]})}},2834:function(e,s,a){"use strict";a.d(s,{$:function(){return r}});var t=a(7437);function r(){return(0,t.jsxs)("div",{className:"footer",children:[(0,t.jsxs)("p",{children:["\xa9 2026 ",(0,t.jsx)("strong",{children:"D.Inversions"})," - All rights reserved"]}),(0,t.jsxs)("p",{className:"footer-note",children:["Bitcoin Portfolio Tracker | Powered by"," ",(0,t.jsx)("a",{href:"https://www.coingecko.com",target:"_blank",rel:"noreferrer",children:"CoinGecko API"})]})]})}},1559:function(e,s,a){"use strict";a.d(s,{x:function(){return r}});var t=a(7437);function r(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"dinversions-logo",children:(0,t.jsx)("img",{src:"/log1.png",alt:"D.Inversions Logo"})}),(0,t.jsx)("div",{className:"btc-logo",children:(0,t.jsx)("img",{src:"https://cryptologos.cc/logos/bitcoin-btc-logo.svg",alt:"Bitcoin Logo"})})]})}},8734:function(e,s,a){"use strict";a.d(s,{a:function(){return n}});var t=a(2265),r=a(3475);function n(){var e;let[s,a]=(0,t.useState)(null),[n,i]=(0,t.useState)(!0);(0,t.useEffect)(()=>{let e=!0;r.O.auth.getSession().then(s=>{var t;let{data:r}=s;e&&(a(null!==(t=r.session)&&void 0!==t?t:null),i(!1))});let{data:s}=r.O.auth.onAuthStateChange((e,s)=>{a(null!=s?s:null)});return()=>{e=!1,s.subscription.unsubscribe()}},[]);let l=(0,t.useCallback)(async(e,s)=>r.O.auth.signInWithPassword({email:e,password:s}),[]),c=(0,t.useCallback)(async()=>r.O.auth.signOut(),[]),u=(0,t.useCallback)(async(e,s)=>{let{data:a}=await r.O.auth.getUser(),t=a.user;if(!(null==t?void 0:t.email))throw Error("No active session. Please log in again.");let{error:n}=await r.O.auth.signInWithPassword({email:t.email,password:e});if(n)throw n;let{error:i}=await r.O.auth.updateUser({password:s});if(i)throw i;sessionStorage.setItem("pw_changed","1"),await r.O.auth.signOut()},[]);return{session:s,user:null!==(e=null==s?void 0:s.user)&&void 0!==e?e:null,loading:n,signIn:l,signOut:c,changePassword:u}}},1211:function(e,s,a){"use strict";a.d(s,{k:function(){return n}});var t=a(2265);async function r(){var e;let s=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=eur");if(!s.ok)throw Error("Failed to fetch BTC price.");let a=await s.json(),t=null==a?void 0:null===(e=a.bitcoin)||void 0===e?void 0:e.eur;if(!t||"number"!=typeof t)throw Error("BTC price data unavailable.");return t}function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e4,[s,a]=(0,t.useState)(0),[n,i]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),u=(0,t.useCallback)(async()=>{try{let e=await r();a(e),c(null)}catch(e){c(e instanceof Error?e.message:"Failed to load BTC price.")}finally{i(!1)}},[]);return(0,t.useEffect)(()=>{u();let s=setInterval(u,e);return()=>clearInterval(s)},[u,e]),{price:s,loading:n,error:l,refresh:u}}},8705:function(e,s,a){"use strict";a.d(s,{HC:function(){return n},JA:function(){return r},n:function(){return t}});let t=.21,r=20,n=.99},4086:function(e,s,a){"use strict";a.d(s,{fr:function(){return i},jl:function(){return l},lb:function(){return n}});let t=new Intl.NumberFormat("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2}),r=new Intl.NumberFormat("de-DE",{maximumFractionDigits:0});function n(e){return t.format(e)}function i(e){return r.format(e)}function l(e){return e.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:5})}},71:function(e,s,a){"use strict";a.d(s,{AW:function(){return n},Zt:function(){return r},cI:function(){return i}});var t=a(3475);async function r(e){let{data:s,error:a}=await t.O.from("clients").select("client_id, display_name, email").eq("email",e).single();if(a)throw a;return s||null}async function n(e){let{data:s,error:a}=await t.O.from("investments").select("*").eq("client_id",e).order("date_swap",{ascending:!0});if(a)throw a;return null!=s?s:[]}async function i(){let{data:e,error:s}=await t.O.rpc("get_portfolio_summary");if(s)throw s;return e||null}},3475:function(e,s,a){"use strict";a.d(s,{O:function(){return l}});var t=a(3053),r=a(257);let n=r.env.NEXT_PUBLIC_SUPABASE_URL,i=r.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;if(!n||!i)throw Error("Missing Supabase environment variables.");let l=(0,t.eI)(n,i)}},function(e){e.O(0,[383,971,117,744],function(){return e(e.s=2671)}),_N_E=e.O()}]);