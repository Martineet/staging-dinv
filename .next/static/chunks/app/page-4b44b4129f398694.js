(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2671:function(e,t,a){Promise.resolve().then(a.bind(a,8682))},8682:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return T}});var r=a(7437),s=a(2265),n=a(9376),i=a(4084);a(6248);var l=a(3475);i.kL.register(i.ST,i.jn,i.od,i.FB,i.f$,i.u,i.De);let c=new Intl.NumberFormat("es-ES",{maximumFractionDigits:0}),o=new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"short",year:"numeric"}),u=e=>"".concat(c.format(Math.round(e))," €");function d(e){let{currentPrice:t}=e,{data:a,loading:n,error:c}=function(){let[e,t]=(0,s.useState)([]),[a,r]=(0,s.useState)(!0),[n,i]=(0,s.useState)(null),c=(0,s.useCallback)(async()=>{r(!0);let{data:e,error:a}=await l.O.from("assets_daily_prices").select("price_date, btc_eur").order("price_date",{ascending:!0});if(a){i(a.message),r(!1);return}t((null!=e?e:[]).map(e=>({date:e.price_date,price:Number(e.btc_eur)}))),i(null),r(!1)},[]);return(0,s.useEffect)(()=>{c()},[c]),{data:e,loading:a,error:n,refresh:c}}(),d=(0,s.useRef)(null),m=(0,s.useRef)(null),h=(0,s.useMemo)(()=>{let e=a.map(e=>({x:new Date(e.date).getTime(),y:e.price})).sort((e,t)=>e.x-t.x),r=new Date(new Date().toISOString().slice(0,10)).getTime();return!e.some(e=>e.x===r)&&t>0&&e.push({x:r,y:t}),e.sort((e,t)=>e.x-t.x)},[a,t]);return((0,s.useEffect)(()=>{if(!d.current||!h.length)return;m.current&&(m.current.destroy(),m.current=null);let e=window.matchMedia("(max-width: 600px)").matches;return m.current=new i.kL(d.current,{type:"line",data:{datasets:[{data:h,borderColor:"#22c55e",backgroundColor:"#22c55e",borderWidth:2,fill:!1,tension:.2,pointRadius:0,pointHoverRadius:0,pointHitRadius:14}]},options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:e?1.4:2.2,interaction:{mode:"nearest",intersect:!1},plugins:{legend:{display:!1},tooltip:{callbacks:{title:e=>{var t,a;let r=null===(a=e[0])||void 0===a?void 0:null===(t=a.parsed)||void 0===t?void 0:t.x;return r?o.format(new Date(r)):""},label:e=>u(Number(e.parsed.y))}}},scales:{x:{type:"time",time:{unit:"month",displayFormats:{month:"MMM yyyy"},tooltipFormat:"MMM yyyy"},ticks:{autoSkip:!0,maxTicksLimit:e?5:10,color:"#9ca3af"},grid:{color:"rgba(45, 53, 72, 0.5)"}},y:{ticks:{maxTicksLimit:e?5:8,color:"#9ca3af",callback:e=>u(Number(e))},grid:{color:"rgba(45, 53, 72, 0.5)"}}}}}),()=>{m.current&&(m.current.destroy(),m.current=null)}},[h]),n&&!h.length)?(0,r.jsx)("section",{className:"historical-chart-section",children:(0,r.jsx)("div",{className:"content-width",children:(0,r.jsx)("div",{className:"historical-chart-card",children:(0,r.jsx)("div",{className:"loading",children:"Loading chart data..."})})})}):c&&!h.length?(0,r.jsx)("section",{className:"historical-chart-section",children:(0,r.jsx)("div",{className:"content-width",children:(0,r.jsx)("div",{className:"historical-chart-card",children:(0,r.jsx)("p",{className:"error centered-text",children:c})})})}):(0,r.jsx)("section",{className:"historical-chart-section",children:(0,r.jsx)("div",{className:"content-width",children:(0,r.jsx)("div",{className:"historical-chart-card",children:(0,r.jsx)("div",{className:"historical-chart-canvas-wrap",children:(0,r.jsx)("canvas",{ref:d,"aria-label":"Bitcoin historical price chart",role:"img"})})})})})}var m=a(8734);function h(){let{signIn:e}=(0,m.a)(),[t,a]=(0,s.useState)(""),[n,i]=(0,s.useState)(""),[l,c]=(0,s.useState)(""),[o,u]=(0,s.useState)(""),[d,h]=(0,s.useState)(!1),[v,f]=(0,s.useState)("→ Sign up");(0,s.useEffect)(()=>{sessionStorage.getItem("pw_changed")&&(u("Password updated. Please log in again."),sessionStorage.removeItem("pw_changed"))},[]);let p=async a=>{a.preventDefault(),c(""),u(""),h(!0);let{error:r}=await e(t.trim(),n);h(!1),r&&c(r.message)};return(0,r.jsxs)("div",{className:"login-form-wrapper",children:[(0,r.jsx)("h2",{className:"section-title",children:"".concat("\uD83D\uDD10"," Member Login")}),(0,r.jsxs)("form",{className:"login-form",onSubmit:p,children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"email",children:"Email"}),(0,r.jsx)("input",{type:"email",id:"email",value:t,onChange:e=>a(e.target.value),required:!0,placeholder:"your@email.com",autoComplete:"email"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"password",children:"Password"}),(0,r.jsx)("input",{type:"password",id:"password",value:n,onChange:e=>i(e.target.value),required:!0,placeholder:"Enter your password",autoComplete:"current-password"})]}),(0,r.jsx)("button",{type:"submit",disabled:d,children:d?"Logging in...":"Login"}),(0,r.jsx)("button",{type:"button",className:"signup-placeholder-btn",onClick:()=>f("→ Work in progress"),children:v}),l?(0,r.jsx)("div",{className:"error",children:l}):null,o?(0,r.jsx)("div",{className:"info-msg",children:o}):null]})]})}var v=a(4086);function f(e){var t,a,s;let{summary:n,btcPrice:i}=e,l=null!==(t=null==n?void 0:n.total_btc)&&void 0!==t?t:0,c=null!==(a=null==n?void 0:n.total_invested)&&void 0!==a?a:0,o=null!==(s=null==n?void 0:n.bitcoiners)&&void 0!==s?s:0,u=l*i,d=u-c,m=d>=0?"+":"",h=d>=0?"positive":"negative",f=l.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2});return(0,r.jsxs)("section",{className:"summary-section section-divider",children:[(0,r.jsx)("h2",{className:"section-title large",children:"D.Inversions Community"}),(0,r.jsxs)("div",{className:"summary-grid",children:[(0,r.jsxs)("div",{className:"summary-card",children:[(0,r.jsx)("div",{className:"summary-icon",children:"₿"}),(0,r.jsx)("div",{className:"summary-value",children:n?"".concat(f," BTC"):"-- BTC"}),(0,r.jsx)("div",{className:"summary-label",children:"Bitcoin Hodled"})]}),(0,r.jsxs)("div",{className:"summary-card",children:[(0,r.jsx)("div",{className:"summary-icon",children:"\uD83D\uDC65"}),(0,r.jsx)("div",{className:"summary-value",children:n?o:"--"}),(0,r.jsx)("div",{className:"summary-label",children:"Bitcoiners"})]}),(0,r.jsxs)("div",{className:"summary-card",children:[(0,r.jsx)("div",{className:"summary-icon",children:"\uD83D\uDCB6"}),(0,r.jsx)("div",{className:"summary-value",children:n?"".concat((0,v.fr)(u)," ").concat("€"):"-- ".concat("€")}),(0,r.jsx)("div",{className:"summary-label",children:"Community Value"})]}),(0,r.jsxs)("div",{className:"summary-card",children:[(0,r.jsx)("div",{className:"summary-icon",children:"\uD83D\uDCB0"}),(0,r.jsx)("div",{className:"summary-value",children:n?"".concat((0,v.fr)(c)," ").concat("€"):"-- ".concat("€")}),(0,r.jsx)("div",{className:"summary-label",children:"Total Invested"})]}),(0,r.jsxs)("div",{className:"summary-card highlight",children:[(0,r.jsx)("div",{className:"summary-icon",children:"\uD83D\uDCC8"}),(0,r.jsx)("div",{className:"summary-value ".concat(n?h:""),children:n?"".concat(m).concat((0,v.fr)(d)," ").concat("€"):"-- ".concat("€")}),(0,r.jsx)("div",{className:"summary-label",children:"Portfolio Result"})]}),(0,r.jsxs)("div",{className:"summary-card",children:[(0,r.jsx)("div",{className:"summary-icon",children:"⏳"}),(0,r.jsx)("div",{className:"summary-value",children:"12/01/2018"}),(0,r.jsx)("div",{className:"summary-label",children:"Journey started"})]})]})]})}var p=a(8705);function x(e){let{btcPrice:t}=e,{growthRate:a,investment:n,futurePrice:i,computedFuturePrice:l,finalValue:c,setGrowthRate:o,setInvestment:u,handleFuturePriceChange:d}=function(e){let[t,a]=(0,s.useState)(p.JA),[r,n]=(0,s.useState)(""),[i,l]=(0,s.useState)(""),c=(0,s.useMemo)(()=>e?e*Math.pow(1+t/100,4):0,[e,t]),o=""===i?c:Number(i||0),u=""===r?0:Number(r||0),d=(0,s.useMemo)(()=>u&&e&&o?u/e*o:0,[u,e,o]);return{growthRate:t,investment:r,futurePrice:""===i?"":o,computedFuturePrice:c,finalValue:d,setGrowthRate:a,setInvestment:n,setFuturePrice:l,handleFuturePriceChange:t=>{let r=Number(t);if(!r||!e){l(""===t?"":0);return}let s=(Math.pow(r/e,.25)-1)*100;a(Number.isFinite(s)?Number(s.toFixed(1)):p.JA),l(r)}}}(t),m=t?"".concat((0,v.fr)(t)," ").concat("€"):"-- ".concat("€"),h=c?"".concat((0,v.lb)(c)," ").concat("€"):"-- ".concat("€");return(0,r.jsxs)("div",{className:"calculator-panel",children:[(0,r.jsx)("h2",{className:"section-title large",children:"".concat("\uD83D\uDCB0"," Bitcoin Investment Calculator ").concat("\uD83E\uDDEE")}),(0,r.jsxs)("div",{className:"calculator-card",children:[(0,r.jsxs)("div",{className:"calc-grid",children:[(0,r.jsxs)("div",{className:"calc-row",children:[(0,r.jsx)("label",{children:"Current BTC Price"}),(0,r.jsx)("input",{type:"text",value:m,readOnly:!0,className:"input-readonly"})]}),(0,r.jsxs)("div",{className:"calc-row",children:[(0,r.jsx)("label",{children:"Annual Growth Rate (%)"}),(0,r.jsx)("input",{type:"number",value:a,onChange:e=>o(Number(e.target.value||0)),min:0,max:1e3})]}),(0,r.jsxs)("div",{className:"calc-row",children:[(0,r.jsxs)("label",{children:["Investment Amount (","€",")"]}),(0,r.jsx)("input",{type:"number",value:n,onChange:e=>u(""===e.target.value?"":Number(e.target.value)),min:0,placeholder:"1000"})]}),(0,r.jsxs)("div",{className:"calc-row",children:[(0,r.jsx)("label",{children:"Expected BTC Price (4 years)"}),(0,r.jsx)("input",{type:"number",value:""===i?Math.round(l||0):i,onChange:e=>d(e.target.value),className:"input-emphasis"})]})]}),(0,r.jsxs)("div",{className:"calc-result",children:[(0,r.jsx)("div",{className:"result-label",children:"Expected Final Value (4 years)"}),(0,r.jsx)("div",{className:"result-value",children:h})]})]})]})}async function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2013-05-01",{data:t,error:a}=await l.O.from("assets_daily_prices").select("price_date, btc_eur, btc_source, gold_eur, gold_source, sp500_eur, sp500_source, ibex35_eur, ibex35_source").gte("price_date",e).order("price_date",{ascending:!0});if(a)throw a;return null!=t?t:[]}async function b(){let e=await fetch("/api/asset-quotes",{cache:"no-store"});if(!e.ok)throw Error("Could not fetch current comparison assets prices.");let t=await e.json();if(!t||!t.asOf||!Number.isFinite(t.goldEur)||!Number.isFinite(t.sp500Eur)||!Number.isFinite(t.ibex35Eur)||t.goldEur<=0||t.sp500Eur<=0||t.ibex35Eur<=0)throw Error("Invalid current comparison assets payload.");return t}function j(e){return"".concat(e.slice(0,7),"-01")}function N(e){let t=e.getUTCFullYear(),a="".concat(e.getUTCMonth()+1).padStart(2,"0");return"".concat(t,"-").concat(a,"-01")}function y(e){let t=new Date("".concat(e,"T00:00:00Z"));return t.setUTCDate(1),t.setUTCMonth(t.getUTCMonth()+1),N(t)}function w(e,t){return Math.abs(Math.round((new Date("".concat(e,"T00:00:00Z")).getTime()-new Date("".concat(t,"T00:00:00Z")).getTime())/864e5))}function C(e){let t=j(e),a=y(t);return w(e,t)<=w(e,a)?t:a}function D(e,t){return"gold"===t?Number(e.gold_eur):"sp500"===t?Number(e.sp500_eur):"ibex35"===t?Number(e.ibex35_eur):Number(e.btc_eur)}function E(e){return"gold"===e?"Gold":"sp500"===e?"SP500":"ibex35"===e?"Ibex35":"Bitcoin"}function _(e){let{btcPrice:t}=e,{monthlyEur:a,startDate:n,endDate:i,today:l,result:c,loading:o,error:u,compareAsset:d,setMonthlyEur:m,setStartDate:h,setEndDate:f,setCompareAsset:p}=function(e){let[t,a]=(0,s.useState)(""),r=(0,s.useMemo)(()=>new Date().toISOString().slice(0,10),[]),[n,i]=(0,s.useState)(()=>(function(e){let t=new Date("".concat(e,"T00:00:00Z"));return t.setUTCFullYear(t.getUTCFullYear()-4),N(t)})(r)),[l,c]=(0,s.useState)(""),[o,u]=(0,s.useState)("gold"),[d,m]=(0,s.useState)(null),[h,v]=(0,s.useState)(!1),[f,p]=(0,s.useState)(null);return(0,s.useEffect)(()=>{(async()=>{let a=Number(t);if(!a||a<=0||!n||!e){m(null),p(null);return}v(!0),p(null);try{let t=await g("2013-05-01");if(!t.length){m(null),p("No monthly assets prices found in database.");return}let s=t[t.length-1].price_date,i=l||r,c=!l||l===r||i>s;if(i<n){m(null),p("End date must be after start date.");return}let u=i;if(!c&&(u=C(i))>s){m(null),p("Rounded end date (".concat(u,") is after last stored date (").concat(s,"). Use today (").concat(r,") or empty end date."));return}let d=function(e,t){let a=C(e),r=j(t);if(a>r)return[];let s=[],n=a;for(;n<=r;)s.push(n),n=y(n);return s}(n,u);if(!d.length){m(null),p("Invalid date range for monthly DCA schedule.");return}let h=new Map(t.map(e=>[e.price_date,e])),v=0,f=0;for(let e of d){let t=h.get(e);if(!t){m(null),p("Missing monthly price row for ".concat(e,"."));return}let r=Number(t.btc_eur),s=D(t,o);if(!r||!s||r<=0||s<=0){m(null),p("Invalid price data for ".concat(e,"."));return}v+=a/r,f+=a/s}let x=e,N=0;if(c)try{let e=await b();"gold"===o&&(N=e.goldEur),"sp500"===o&&(N=e.sp500Eur),"ibex35"===o&&(N=e.ibex35Eur)}catch(t){let e=h.get(s);if(!e){m(null),p("Could not fetch live asset price and no stored fallback was found.");return}N=D(e,o)}else{let e=h.get(u);if(!e){m(null),p("Missing final valuation row for ".concat(u,"."));return}x=Number(e.btc_eur),N=D(e,o)}if(!N||N<=0){m(null),p("Invalid final comparison asset price.");return}let w=d.length*a,E=v*x,_=f*N;m({investedEur:w,bitcoin:{eurosValue:E,profitLoss:E-w},compare:{eurosValue:_,profitLoss:_-w},compareAsset:o,finalValuationDate:c?r:u,usingLiveFinalPrice:c,compareFinalPrice:N})}catch(e){m(null),p(e instanceof Error?e.message:"Could not calculate DCA.")}finally{v(!1)}})()},[t,n,l,o,e,r]),{monthlyEur:t,startDate:n,endDate:l,today:r,result:d,loading:h,error:f,compareAsset:o,setMonthlyEur:a,setStartDate:i,setEndDate:c,setCompareAsset:u}}(t),x=c&&c.bitcoin.profitLoss>=0?"+":"",w=c&&c.bitcoin.profitLoss>=0?"positive":"negative",_=c&&c.compare.profitLoss>=0?"+":"",S=c&&c.compare.profitLoss>=0?"positive":"negative";return(0,r.jsxs)("div",{className:"calculator-panel",children:[(0,r.jsx)("h2",{className:"section-title large",children:"".concat("\uD83D\uDC8E"," Bitcoin DCA Calculator ").concat("\uD83E\uDD32")}),(0,r.jsxs)("div",{className:"calculator-card",children:[(0,r.jsxs)("div",{className:"calc-grid",children:[(0,r.jsxs)("div",{className:"calc-row",children:[(0,r.jsxs)("label",{children:["Monthly Investment (","€",")"]}),(0,r.jsx)("input",{type:"number",min:0,placeholder:"200",value:a,onChange:e=>m(""===e.target.value?"":Number(e.target.value))})]}),(0,r.jsxs)("div",{className:"calc-row",children:[(0,r.jsx)("label",{children:"Start Date"}),(0,r.jsx)("input",{type:"date",min:"2013-05-01",max:l,value:n,onChange:e=>h(e.target.value)})]}),(0,r.jsxs)("div",{className:"calc-row",children:[(0,r.jsx)("label",{children:"End Date (optional)"}),(0,r.jsx)("input",{type:"date",min:n||"2013-05-01",max:l,value:i,onChange:e=>f(e.target.value)})]}),(0,r.jsxs)("div",{className:"calc-row",children:[(0,r.jsx)("label",{children:"Compare With"}),(0,r.jsxs)("select",{value:d,onChange:e=>p(e.target.value),children:[(0,r.jsx)("option",{value:"gold",children:"Gold"}),(0,r.jsx)("option",{value:"sp500",children:"SP500"}),(0,r.jsx)("option",{value:"ibex35",children:"Ibex35"})]})]})]}),(0,r.jsxs)("div",{className:"calc-result",children:[(0,r.jsx)("div",{className:"dca-row dca-row-eur",children:(0,r.jsxs)("div",{className:"dca-inline-line",children:[(0,r.jsx)("span",{className:"result-label dca-inline-label",children:"Euros invested"}),(0,r.jsx)("span",{className:"result-value result-value-normal dca-inline-value",children:c?"".concat((0,v.fr)(c.investedEur)," ").concat("€"):"-- ".concat("€")})]})}),(0,r.jsxs)("div",{className:"dca-row dca-row-strong",children:[(0,r.jsxs)("div",{className:"dca-row-item",children:[(0,r.jsx)("div",{className:"result-label",children:"Bitcoin value"}),(0,r.jsx)("div",{className:"result-value",children:c?"".concat((0,v.fr)(c.bitcoin.eurosValue)," ").concat("€"):"-- ".concat("€")})]}),(0,r.jsxs)("div",{className:"dca-row-item",children:[(0,r.jsx)("div",{className:"result-label ".concat(c?w:""),children:"Bitcoin Profit/Loss"}),(0,r.jsx)("div",{className:"result-value ".concat(c?w:""),children:c?"".concat(x).concat((0,v.fr)(c.bitcoin.profitLoss)," ").concat("€"):"-- ".concat("€")})]})]}),(0,r.jsxs)("div",{className:"dca-row",children:[(0,r.jsxs)("div",{className:"dca-row-item",children:[(0,r.jsxs)("div",{className:"result-label",children:[E(d)," value"]}),(0,r.jsx)("div",{className:"result-value result-value-normal",children:c?"".concat((0,v.fr)(c.compare.eurosValue)," ").concat("€"):"-- ".concat("€")})]}),(0,r.jsxs)("div",{className:"dca-row-item",children:[(0,r.jsxs)("div",{className:"result-label ".concat(c?S:""),children:[E(d)," Profit/Loss"]}),(0,r.jsx)("div",{className:"result-value result-value-normal ".concat(c?S:""),children:c?"".concat(_).concat((0,v.fr)(c.compare.profitLoss)," ").concat("€"):"-- ".concat("€")})]})]}),(0,r.jsx)("div",{className:"result-label",children:c?"".concat(E(d)," reference price: ").concat((0,v.fr)(c.compareFinalPrice)," ").concat("€"," ").concat(c.usingLiveFinalPrice?"(live)":"(stored monthly)"):"".concat(E(d)," reference price: -- ").concat("€")}),o&&(0,r.jsx)("div",{className:"loading",children:"Calculating DCA..."}),u&&(0,r.jsx)("div",{className:"error centered-text",children:u})]})]})]})}function S(e){let{btcPrice:t}=e;return(0,r.jsx)("section",{className:"calculators-section section-divider",children:(0,r.jsx)("div",{className:"content-width",children:(0,r.jsxs)("div",{className:"calculators-grid",children:[(0,r.jsx)(x,{btcPrice:t}),(0,r.jsx)(_,{btcPrice:t})]})})})}var I=a(2834),k=a(1559),F=a(1211),P=a(71);function T(){let e=(0,n.useRouter)(),{session:t,loading:a}=(0,m.a)(),{price:i}=(0,F.k)(),{summary:l}=function(){let[e,t]=(0,s.useState)(null),[a,r]=(0,s.useState)(!0),[n,i]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e=!0;return(async()=>{try{let a=await (0,P.cI)();if(!e)return;t(a),i(null)}catch(t){if(!e)return;i(t instanceof Error?t.message:"Portfolio summary unavailable.")}finally{e&&r(!1)}})(),()=>{e=!1}},[]),{summary:e,loading:a,error:n}}(),[c,o]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{!a&&t&&e.replace("/dashboard")},[a,t,e]),(0,s.useEffect)(()=>(document.body.classList.add("landing-body"),()=>{document.body.classList.remove("landing-body")}),[]),(0,s.useEffect)(()=>{"1"===sessionStorage.getItem("open_members_zone")&&(sessionStorage.removeItem("open_members_zone"),o(!0));let e=()=>o(!0);return window.addEventListener("open-members-zone",e),()=>{window.removeEventListener("open-members-zone",e)}},[]),(0,s.useEffect)(()=>{if(!c)return;let e=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}},[c]),(0,r.jsxs)("div",{className:"landing-page",children:[(0,r.jsxs)("main",{className:"landing-main",children:[(0,r.jsx)(d,{currentPrice:i}),(0,r.jsx)(f,{summary:l,btcPrice:i}),(0,r.jsx)(S,{btcPrice:i}),(0,r.jsx)(k.x,{}),(0,r.jsx)(I.$,{})]}),c?(0,r.jsx)("div",{className:"modal-overlay open",role:"presentation",onClick:e=>e.currentTarget===e.target&&o(!1),children:(0,r.jsxs)("section",{className:"modal login-modal",role:"dialog","aria-modal":"true","aria-label":"Member login",children:[(0,r.jsx)("button",{type:"button",className:"modal-close-btn","aria-label":"Close login popup",onClick:()=>o(!1),children:"\xd7"}),(0,r.jsx)(h,{})]})}):null]})}},2834:function(e,t,a){"use strict";a.d(t,{$:function(){return s}});var r=a(7437);function s(){return(0,r.jsxs)("div",{className:"footer",children:[(0,r.jsxs)("p",{children:["\xa9 2026 ",(0,r.jsx)("strong",{children:"D.Inversions"})," - All rights reserved"]}),(0,r.jsxs)("p",{className:"footer-note",children:["Bitcoin Portfolio Tracker | Powered by"," ",(0,r.jsx)("a",{href:"https://www.coingecko.com/es/monedas/bitcoin",target:"_blank",rel:"noreferrer",children:"CoinGecko API"})]})]})}},1559:function(e,t,a){"use strict";a.d(t,{x:function(){return s}});var r=a(7437);function s(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"dinversions-logo",children:(0,r.jsx)("img",{src:"/log1.png",alt:"D.Inversions Logo"})}),(0,r.jsx)("div",{className:"btc-logo",children:(0,r.jsx)("img",{src:"https://cryptologos.cc/logos/bitcoin-btc-logo.svg",alt:"Bitcoin Logo"})})]})}},8734:function(e,t,a){"use strict";a.d(t,{a:function(){return n}});var r=a(2265),s=a(3475);function n(){var e;let[t,a]=(0,r.useState)(null),[n,i]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=!0;s.O.auth.getSession().then(t=>{var r;let{data:s}=t;e&&(a(null!==(r=s.session)&&void 0!==r?r:null),i(!1))});let{data:t}=s.O.auth.onAuthStateChange((e,t)=>{a(null!=t?t:null)});return()=>{e=!1,t.subscription.unsubscribe()}},[]);let l=(0,r.useCallback)(async(e,t)=>s.O.auth.signInWithPassword({email:e,password:t}),[]),c=(0,r.useCallback)(async()=>s.O.auth.signOut(),[]),o=(0,r.useCallback)(async(e,t)=>{let{data:a}=await s.O.auth.getUser(),r=a.user;if(!(null==r?void 0:r.email))throw Error("No active session. Please log in again.");let{error:n}=await s.O.auth.signInWithPassword({email:r.email,password:e});if(n)throw n;let{error:i}=await s.O.auth.updateUser({password:t});if(i)throw i;sessionStorage.setItem("pw_changed","1"),await s.O.auth.signOut()},[]);return{session:t,user:null!==(e=null==t?void 0:t.user)&&void 0!==e?e:null,loading:n,signIn:l,signOut:c,changePassword:o}}},1211:function(e,t,a){"use strict";a.d(t,{k:function(){return n}});var r=a(2265);async function s(){var e;let t=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=eur");if(!t.ok)throw Error("Failed to fetch BTC price.");let a=await t.json(),r=null==a?void 0:null===(e=a.bitcoin)||void 0===e?void 0:e.eur;if(!r||"number"!=typeof r)throw Error("BTC price data unavailable.");return r}function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e4,[t,a]=(0,r.useState)(0),[n,i]=(0,r.useState)(!0),[l,c]=(0,r.useState)(null),o=(0,r.useCallback)(async()=>{try{let e=await s();a(e),c(null)}catch(e){c(e instanceof Error?e.message:"Failed to load BTC price.")}finally{i(!1)}},[]);return(0,r.useEffect)(()=>{o();let t=setInterval(o,e);return()=>clearInterval(t)},[o,e]),{price:t,loading:n,error:l,refresh:o}}},8705:function(e,t,a){"use strict";a.d(t,{HC:function(){return n},JA:function(){return s},n:function(){return r}});let r=.21,s=20,n=.99},4086:function(e,t,a){"use strict";a.d(t,{fr:function(){return i},jl:function(){return l},lb:function(){return n}});let r=new Intl.NumberFormat("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2}),s=new Intl.NumberFormat("de-DE",{maximumFractionDigits:0});function n(e){return r.format(e)}function i(e){return s.format(e)}function l(e){return e.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:5})}},71:function(e,t,a){"use strict";a.d(t,{TI:function(){return n},cI:function(){return i},jS:function(){return s}});var r=a(3475);async function s(e){let{data:t,error:a}=await r.O.from("members").select("member_id, display_name, email").eq("email",e).single();if(a)throw a;return t||null}async function n(e){let{data:t,error:a}=await r.O.from("investments").select("*").eq("member_id",e).order("date_swap",{ascending:!0});if(a)throw a;return null!=t?t:[]}async function i(){let{data:e,error:t}=await r.O.rpc("get_portfolio_summary");if(t)throw t;return e||null}},3475:function(e,t,a){"use strict";a.d(t,{O:function(){return l}});var r=a(3053),s=a(257);let n=s.env.NEXT_PUBLIC_SUPABASE_URL,i=s.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;if(!n||!i)throw Error("Missing Supabase environment variables.");let l=(0,r.eI)(n,i)}},function(e){e.O(0,[674,383,327,971,117,744],function(){return e(e.s=2671)}),_N_E=e.O()}]);