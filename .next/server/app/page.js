(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4499:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>d,pages:()=>u,routeModule:()=>h,tree:()=>o}),r(5480),r(2029),r(5866);var a=r(3191),t=r(8716),i=r(7922),n=r.n(i),l=r(5231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);r.d(s,c);let o=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5480)),"C:\\Users\\marti.castan\\Documents\\altres\\D.Inversions\\PgWeb\\prod-dinv\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"C:\\Users\\marti.castan\\Documents\\altres\\D.Inversions\\PgWeb\\prod-dinv\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\marti.castan\\Documents\\altres\\D.Inversions\\PgWeb\\prod-dinv\\src\\app\\page.tsx"],d="/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},7979:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},3308:()=>{},7774:(e,s,r)=>{Promise.resolve().then(r.bind(r,5761))},5761:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>p});var a=r(326),t=r(7577),i=r(5047),n=r(5077);function l({btcPrice:e}){let s=e?`${(0,n.fr)(e)} €`:"-- €";return(0,a.jsxs)("div",{className:"login-header",children:[(0,a.jsxs)("div",{className:"login-header-row",children:[a.jsx("h1",{className:"header-title",children:"\uD83E\uDE99 D.Inversions"}),a.jsx("div",{id:"headerBtcPrice",className:"header-btc-price",children:s})]}),(0,a.jsxs)("div",{className:"login-subtitle-row",children:[a.jsx("p",{className:"subtitle",children:"Track your Bitcoin investments"}),a.jsx("p",{className:"subtitle subtitle-right",children:"Bitcoin price"})]})]})}var c=r(4131);function o(){let{signIn:e}=(0,c.a)(),[s,r]=(0,t.useState)(""),[i,n]=(0,t.useState)(""),[l,o]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[m,h]=(0,t.useState)(!1),v=async r=>{r.preventDefault(),o(""),d(""),h(!0);let{error:a}=await e(s.trim(),i);h(!1),a&&o(a.message)};return(0,a.jsxs)("div",{className:"login-form-wrapper",children:[a.jsx("h2",{className:"section-title",children:"\uD83D\uDD10 Member Login"}),(0,a.jsxs)("form",{className:"login-form",onSubmit:v,children:[(0,a.jsxs)("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"email",children:"Email"}),a.jsx("input",{type:"email",id:"email",value:s,onChange:e=>r(e.target.value),required:!0,placeholder:"your@email.com",autoComplete:"email"})]}),(0,a.jsxs)("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"password",children:"Password"}),a.jsx("input",{type:"password",id:"password",value:i,onChange:e=>n(e.target.value),required:!0,placeholder:"Enter your password",autoComplete:"current-password"})]}),a.jsx("button",{type:"submit",disabled:m,children:m?"Logging in...":"Login"}),l?a.jsx("div",{className:"error",children:l}):null,u?a.jsx("div",{className:"info-msg",children:u}):null]})]})}function u({summary:e,btcPrice:s}){let r=e?.total_btc??0,t=e?.total_invested??0,i=e?.total_guaranteed??0,l=e?.bitcoiners??0,c=r*s,o=c-t,u=o>=0?"+":"",d=o>=0?"positive":"negative",m=r.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2});return(0,a.jsxs)("section",{className:"summary-section section-divider",children:[a.jsx("h2",{className:"section-title large",children:"\uD83D\uDCCA D.Inversions Community"}),(0,a.jsxs)("div",{className:"summary-grid",children:[(0,a.jsxs)("div",{className:"summary-card",children:[a.jsx("div",{className:"summary-icon",children:"₿"}),a.jsx("div",{className:"summary-value",children:e?`${m} BTC`:"-- BTC"}),a.jsx("div",{className:"summary-label",children:"Bitcoin Hodled"})]}),(0,a.jsxs)("div",{className:"summary-card",children:[a.jsx("div",{className:"summary-icon",children:"\uD83D\uDC65"}),a.jsx("div",{className:"summary-value",children:e?l:"--"}),a.jsx("div",{className:"summary-label",children:"Bitcoiners"})]}),(0,a.jsxs)("div",{className:"summary-card",children:[a.jsx("div",{className:"summary-icon",children:"\uD83D\uDCB5"}),a.jsx("div",{className:"summary-value",children:e?`${(0,n.fr)(c)} €`:"-- €"}),a.jsx("div",{className:"summary-label",children:"Community Value"})]}),(0,a.jsxs)("div",{className:"summary-card",children:[a.jsx("div",{className:"summary-icon",children:"\uD83D\uDCB0"}),a.jsx("div",{className:"summary-value",children:e?`${(0,n.fr)(t)} €`:"-- €"}),a.jsx("div",{className:"summary-label",children:"Total Invested"})]}),(0,a.jsxs)("div",{className:"summary-card highlight",children:[a.jsx("div",{className:"summary-icon",children:"\uD83D\uDCC8"}),a.jsx("div",{className:`summary-value ${e?d:""}`,children:e?`${u}${(0,n.fr)(o)} €`:"-- €"}),a.jsx("div",{className:"summary-label",children:"Portfolio Result"})]}),(0,a.jsxs)("div",{className:"summary-card",children:[a.jsx("div",{className:"summary-icon",children:"\uD83D\uDEE1️"}),a.jsx("div",{className:"summary-value",children:e?`${(0,n.fr)(i)} €`:"-- €"}),a.jsx("div",{className:"summary-label",children:"Guaranteed Amount"})]})]})]})}var d=r(3566);function m({btcPrice:e}){let{growthRate:s,investment:r,futurePrice:i,computedFuturePrice:l,finalValue:c,setGrowthRate:o,setInvestment:u,handleFuturePriceChange:m}=function(e){let[s,r]=(0,t.useState)(d.JA),[a,i]=(0,t.useState)(""),[n,l]=(0,t.useState)(""),c=(0,t.useMemo)(()=>e?e*Math.pow(1+s/100,4):0,[e,s]),o=""===n?c:Number(n||0),u=""===a?0:Number(a||0),m=(0,t.useMemo)(()=>u&&e&&o?u/e*o:0,[u,e,o]);return{growthRate:s,investment:a,futurePrice:""===n?"":o,computedFuturePrice:c,finalValue:m,setGrowthRate:r,setInvestment:i,setFuturePrice:l,handleFuturePriceChange:s=>{let a=Number(s);if(!a||!e){l(""===s?"":0);return}let t=(Math.pow(a/e,.25)-1)*100;r(Number.isFinite(t)?Number(t.toFixed(1)):d.JA),l(a)}}}(e),h=e?`${(0,n.fr)(e)} €`:"-- €",v=c?`${(0,n.lb)(c)} €`:"-- €";return(0,a.jsxs)("section",{className:"calculator-section section-divider",children:[a.jsx("h2",{className:"section-title large",children:"\uD83D\uDCB0 Bitcoin Investment Calculator"}),(0,a.jsxs)("div",{className:"calculator-card",children:[(0,a.jsxs)("div",{className:"calc-grid",children:[(0,a.jsxs)("div",{className:"calc-row",children:[a.jsx("label",{children:"Current BTC Price"}),a.jsx("input",{type:"text",value:h,readOnly:!0,className:"input-readonly"})]}),(0,a.jsxs)("div",{className:"calc-row",children:[a.jsx("label",{children:"Annual Growth Rate (%)"}),a.jsx("input",{type:"number",value:s,onChange:e=>o(Number(e.target.value||0)),min:0,max:1e3})]}),(0,a.jsxs)("div",{className:"calc-row",children:[a.jsx("label",{children:"Investment Amount (€)"}),a.jsx("input",{type:"number",value:r,onChange:e=>u(""===e.target.value?"":Number(e.target.value)),min:0,placeholder:"1000"})]}),(0,a.jsxs)("div",{className:"calc-row",children:[a.jsx("label",{children:"Expected BTC Price (4 years)"}),a.jsx("input",{type:"number",value:""===i?Math.round(l||0):i,onChange:e=>m(e.target.value),className:"input-emphasis"})]})]}),(0,a.jsxs)("div",{className:"calc-result",children:[a.jsx("div",{className:"result-label",children:"Expected Final Value (4 years)"}),a.jsx("div",{className:"result-value",children:v})]})]})]})}var h=r(5295),v=r(9155),x=r(2451);function p(){(0,i.useRouter)();let{session:e,loading:s}=(0,c.a)(),{price:r}=(0,x.k)(),{summary:n}=function(){let[e,s]=(0,t.useState)(null),[r,a]=(0,t.useState)(!0),[i,n]=(0,t.useState)(null);return{summary:e,loading:r,error:i}}();return(0,a.jsxs)("div",{className:"container",children:[a.jsx(l,{btcPrice:r}),a.jsx(o,{}),a.jsx(u,{summary:n,btcPrice:r}),a.jsx(m,{btcPrice:r}),a.jsx(v.x,{}),a.jsx(h.$,{})]})}r(958)},5295:(e,s,r)=>{"use strict";r.d(s,{$:()=>t});var a=r(326);function t(){return(0,a.jsxs)("div",{className:"footer",children:[(0,a.jsxs)("p",{children:["\xa9 2026 ",a.jsx("strong",{children:"D.Inversions"})," - All rights reserved"]}),(0,a.jsxs)("p",{className:"footer-note",children:["Bitcoin Portfolio Tracker | Powered by"," ",a.jsx("a",{href:"https://www.coingecko.com",target:"_blank",rel:"noreferrer",children:"CoinGecko API"})]})]})}},9155:(e,s,r)=>{"use strict";r.d(s,{x:()=>t});var a=r(326);function t(){return(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"dinversions-logo",children:a.jsx("img",{src:"/log1.png",alt:"D.Inversions Logo"})}),a.jsx("div",{className:"btc-logo",children:a.jsx("img",{src:"https://cryptologos.cc/logos/bitcoin-btc-logo.svg",alt:"Bitcoin Logo"})})]})}},4131:(e,s,r)=>{"use strict";r.d(s,{a:()=>i});var a=r(7577),t=r(4800);function i(){let[e,s]=(0,a.useState)(null),[r,i]=(0,a.useState)(!0),n=(0,a.useCallback)(async(e,s)=>t.O.auth.signInWithPassword({email:e,password:s}),[]),l=(0,a.useCallback)(async()=>t.O.auth.signOut(),[]),c=(0,a.useCallback)(async(e,s)=>{let{data:r}=await t.O.auth.getUser(),a=r.user;if(!a?.email)throw Error("No active session. Please log in again.");let{error:i}=await t.O.auth.signInWithPassword({email:a.email,password:e});if(i)throw i;let{error:n}=await t.O.auth.updateUser({password:s});if(n)throw n;sessionStorage.setItem("pw_changed","1"),await t.O.auth.signOut()},[]);return{session:e,user:e?.user??null,loading:r,signIn:n,signOut:l,changePassword:c}}},2451:(e,s,r)=>{"use strict";r.d(s,{k:()=>i});var a=r(7577);async function t(){let e=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=eur");if(!e.ok)throw Error("Failed to fetch BTC price.");let s=await e.json(),r=s?.bitcoin?.eur;if(!r||"number"!=typeof r)throw Error("BTC price data unavailable.");return r}function i(e=6e4){let[s,r]=(0,a.useState)(0),[i,n]=(0,a.useState)(!0),[l,c]=(0,a.useState)(null);return{price:s,loading:i,error:l,refresh:(0,a.useCallback)(async()=>{try{let e=await t();r(e),c(null)}catch(e){c(e instanceof Error?e.message:"Failed to load BTC price.")}finally{n(!1)}},[])}}},3566:(e,s,r)=>{"use strict";r.d(s,{HC:()=>i,JA:()=>t,n:()=>a});let a=.21,t=20,i=.99},5077:(e,s,r)=>{"use strict";r.d(s,{fr:()=>n,jl:()=>l,lb:()=>i});let a=new Intl.NumberFormat("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2}),t=new Intl.NumberFormat("de-DE",{maximumFractionDigits:0});function i(e){return a.format(e)}function n(e){return t.format(e)}function l(e){return e.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:5})}},958:(e,s,r)=>{"use strict";r.d(s,{AW:()=>i,Zt:()=>t});var a=r(4800);async function t(e){let{data:s,error:r}=await a.O.from("clients").select("client_id, display_name, email").eq("email",e).single();if(r)throw r;return s||null}async function i(e){let{data:s,error:r}=await a.O.from("investments").select("*").eq("client_id",e).order("date_swap",{ascending:!0});if(r)throw r;return s??[]}},4800:(e,s,r)=>{"use strict";r.d(s,{O:()=>n});var a=r(5157);let t=process.env.NEXT_PUBLIC_SUPABASE_URL,i=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;if(!t||!i)throw Error("Missing Supabase environment variables.");let n=(0,a.eI)(t,i)},2029:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>i,metadata:()=>t});var a=r(9510);r(5023);let t={title:"D.Inversions - Bitcoin Portfolio",description:"Track your Bitcoin investments and performance."};function i({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{children:e})})}},5480:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`C:\Users\marti.castan\Documents\altres\D.Inversions\PgWeb\prod-dinv\src\app\page.tsx#default`)},5023:()=>{}};var s=require("../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[819,313],()=>r(4499));module.exports=a})();