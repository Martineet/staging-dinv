(()=>{var e={};e.id=409,e.ids=[409],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2176:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>d}),n(7352),n(5866),n(9515);var s=n(3191),r=n(8716),a=n(7922),o=n.n(a),i=n(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);n.d(t,l);let d=["",{children:["/_not-found",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.t.bind(n,5866,23)),"next/dist/client/components/not-found-error"]}]},{}]},{layout:[()=>Promise.resolve().then(n.bind(n,9515)),"C:\\Users\\marti.castan\\Documents\\altres\\D.Inversions\\PgWeb\\prod-dinv\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,5866,23)),"next/dist/client/components/not-found-error"]}],u=[],c="/_not-found/page",m={require:n,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/_not-found/page",pathname:"/_not-found",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7979:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,2994,23)),Promise.resolve().then(n.t.bind(n,6114,23)),Promise.resolve().then(n.t.bind(n,9727,23)),Promise.resolve().then(n.t.bind(n,9671,23)),Promise.resolve().then(n.t.bind(n,1868,23)),Promise.resolve().then(n.t.bind(n,4759,23))},2304:(e,t,n)=>{Promise.resolve().then(n.bind(n,5684))},5684:(e,t,n)=>{"use strict";n.d(t,{LandingHeader:()=>c});var s=n(326),r=n(7577),a=n(5047),o=n(4131);function i({isOpen:e,onClose:t}){let{changePassword:n}=(0,o.a)(),[a,i]=(0,r.useState)(""),[l,d]=(0,r.useState)(""),[u,c]=(0,r.useState)(""),[m,p]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[g,v]=(0,r.useState)(!1),b=()=>{i(""),d(""),c(""),p(""),f(""),v(!1)},x=()=>{b(),t()},w=async()=>{if(p(""),f(""),l.length<6){p("Password must be at least 6 characters.");return}if(l!==u){p("Passwords do not match.");return}if(!a){p("Please enter your current password.");return}v(!0);try{await n(a,l),f("Password updated. Logging out...")}catch(e){p(e instanceof Error?e.message:"Unable to update password."),v(!1)}};return e?s.jsx("div",{className:"modal-overlay open",onClick:e=>e.currentTarget===e.target&&x(),children:(0,s.jsxs)("div",{className:"modal",children:[s.jsx("h3",{children:"Change Password"}),(0,s.jsxs)("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"currentPassword",children:"Current password"}),s.jsx("input",{type:"password",id:"currentPassword",value:a,onChange:e=>i(e.target.value),placeholder:"Enter current password",autoComplete:"current-password"})]}),(0,s.jsxs)("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"newPassword",children:"New password"}),s.jsx("input",{type:"password",id:"newPassword",value:l,onChange:e=>d(e.target.value),placeholder:"At least 6 characters",autoComplete:"new-password"})]}),(0,s.jsxs)("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"confirmPassword",children:"Confirm new password"}),s.jsx("input",{type:"password",id:"confirmPassword",value:u,onChange:e=>c(e.target.value),placeholder:"Repeat password",autoComplete:"new-password"})]}),m?s.jsx("div",{className:"error",children:m}):null,h?s.jsx("div",{className:"info-msg",children:h}):null,(0,s.jsxs)("div",{className:"modal-actions",children:[s.jsx("button",{type:"button",className:"btn-secondary",onClick:x,disabled:g,children:"Cancel"}),s.jsx("button",{type:"button",onClick:w,disabled:g,children:g?"Saving...":"Save"})]})]})}):null}function l({onChangePassword:e,onLogout:t}){let[n,a]=(0,r.useState)(!1),o=(0,r.useRef)(null);return(0,s.jsxs)("div",{className:"settings-wrapper",ref:o,children:[s.jsx("button",{type:"button",className:"settings-btn",title:"Settings","aria-label":"Settings",onClick:()=>a(e=>!e),children:"⚙️"}),(0,s.jsxs)("div",{className:`settings-dropdown ${n?"open":""}`,children:[s.jsx("button",{type:"button",className:"settings-item",onClick:()=>{a(!1),e()},children:`\uD83D\uDD11 Change Password`}),s.jsx("div",{className:"settings-divider"}),s.jsx("button",{type:"button",className:"settings-item danger",onClick:()=>{a(!1),t()},children:`\uD83D\uDEAA Logout`})]})]})}var d=n(5077),u=n(2451);function c(){let e=(0,a.useRouter)(),t=(0,a.usePathname)(),{session:n,loading:c,signOut:m}=(0,o.a)(),{price:p}=(0,u.k)(),[h,f]=(0,r.useState)(!1),g=p?`${(0,d.fr)(p)} €`:`-- €`;return(0,s.jsxs)("header",{className:"landing-top-nav",role:"banner",children:[(0,s.jsxs)("div",{className:"landing-top-nav-left",children:[s.jsx("div",{className:"nav-brand-logo","aria-hidden":"true",children:s.jsx("img",{src:"/log1.png",alt:""})}),s.jsx("a",{href:"https://www.dinversions.org/",className:"header-title nav-title-link",children:"D.Inversions"}),s.jsx("div",{id:"headerBtcPrice",className:"header-btc-price",children:g})]}),s.jsx("div",{className:"landing-top-nav-middle",children:s.jsx("p",{className:"nav-quote",children:"Bitcoin is building the next global monetary system"})}),s.jsx("div",{className:"landing-top-nav-right",children:!c&&n?(0,s.jsxs)(s.Fragment,{children:[s.jsx(l,{onChangePassword:()=>f(!0),onLogout:()=>m()}),s.jsx(i,{isOpen:h,onClose:()=>f(!1)})]}):s.jsx("button",{type:"button",className:"members-zone-btn",onClick:()=>{if("/"!==t){sessionStorage.setItem("open_members_zone","1"),e.push("/");return}window.dispatchEvent(new CustomEvent("open-members-zone"))},children:"Members Zone"})})]})}},4131:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});var s=n(7577),r=n(4800);function a(){let[e,t]=(0,s.useState)(null),[n,a]=(0,s.useState)(!0),o=(0,s.useCallback)(async(e,t)=>r.O.auth.signInWithPassword({email:e,password:t}),[]),i=(0,s.useCallback)(async()=>r.O.auth.signOut(),[]),l=(0,s.useCallback)(async(e,t)=>{let{data:n}=await r.O.auth.getUser(),s=n.user;if(!s?.email)throw Error("No active session. Please log in again.");let{error:a}=await r.O.auth.signInWithPassword({email:s.email,password:e});if(a)throw a;let{error:o}=await r.O.auth.updateUser({password:t});if(o)throw o;sessionStorage.setItem("pw_changed","1"),await r.O.auth.signOut()},[]);return{session:e,user:e?.user??null,loading:n,signIn:o,signOut:i,changePassword:l}}},2451:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var s=n(7577);async function r(){let e=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=eur");if(!e.ok)throw Error("Failed to fetch BTC price.");let t=await e.json(),n=t?.bitcoin?.eur;if(!n||"number"!=typeof n)throw Error("BTC price data unavailable.");return n}function a(e=6e4){let[t,n]=(0,s.useState)(0),[a,o]=(0,s.useState)(!0),[i,l]=(0,s.useState)(null);return{price:t,loading:a,error:i,refresh:(0,s.useCallback)(async()=>{try{let e=await r();n(e),l(null)}catch(e){l(e instanceof Error?e.message:"Failed to load BTC price.")}finally{o(!1)}},[])}}},5077:(e,t,n)=>{"use strict";n.d(t,{fr:()=>o,jl:()=>i,lb:()=>a});let s=new Intl.NumberFormat("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2}),r=new Intl.NumberFormat("de-DE",{maximumFractionDigits:0});function a(e){return s.format(e)}function o(e){return r.format(e)}function i(e){return e.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:5})}},4800:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var s=n(5157);let r=process.env.NEXT_PUBLIC_SUPABASE_URL,a=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;if(!r||!a)throw Error("Missing Supabase environment variables.");let o=(0,s.eI)(r,a)},6399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{isNotFoundError:function(){return r},notFound:function(){return s}});let n="NEXT_NOT_FOUND";function s(){let e=Error(n);throw e.digest=n,e}function r(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===n}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7352:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{PARALLEL_ROUTE_DEFAULT_PATH:function(){return r},default:function(){return a}});let s=n(6399),r="next/dist/client/components/parallel-route-default.js";function a(){(0,s.notFound)()}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9515:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o,metadata:()=>a});var s=n(9510);n(5023);let r=(0,n(8570).createProxy)(String.raw`C:\Users\marti.castan\Documents\altres\D.Inversions\PgWeb\prod-dinv\src\components\LandingHeader.tsx#LandingHeader`),a={title:"D.Inversions - Bitcoin Portfolio",description:"Track your Bitcoin investments and performance."};function o({children:e}){return s.jsx("html",{lang:"en",children:(0,s.jsxs)("body",{children:[s.jsx(r,{}),e]})})}},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),s=t.X(0,[276,149],()=>n(2176));module.exports=s})();